(this["webpackJsonpimage-label-viewer"]=this["webpackJsonpimage-label-viewer"]||[]).push([[0],{20:function(e,t,n){e.exports=n(27)},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),l=n.n(i),c=n(9),o=n(1),s=n(19);function u(e){var t=e.src,n=e.labels,a=e.color,i=void 0===a?"#39ff14":a,l=Object(s.a)({triggerOnce:!0,rootMargin:"200px 0px"}),c=Object(o.a)(l,2),u=c[0],d=c[1];return r.a.createElement("div",Object.assign({"data-testid":t,style:{position:"relative",minHeight:500,display:"flex",width:"100%"}},{ref:u}),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",Object.assign({src:t},{alt:n.map((function(e){return e.label})).join(", ")})),n.map((function(e){var t=e.top,n=e.left,a=e.width,l=e.height,c=e.label;return r.a.createElement("div",{key:JSON.stringify({top:t,left:n,width:a,height:l}),style:{position:"absolute",top:t,left:n,width:a,height:l,border:"1px solid ".concat(i)}},r.a.createElement("span",{style:{position:"absolute",left:"calc(100% + 5px)",fontSize:a/3.5,color:i}},c))}))))}var d=n(13),f=n.n(d);function h(e){var t=e.query,n=e.setQuery,i=e.normalizeQuery,l=e.trie,c=e.filterResultsText,o=f()((function(e){return n(i(e))}),200),s=Object(a.useMemo)((function(){return t&&l?l.getWordsWithPrefix(t):[]}),[t,l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"query-input",type:"text",placeholder:"Label starts with...",autoComplete:"off",onChange:function(e){var t=e.target.value;return o(t)}})," ",c,s.length&&s[0].word!==t?r.a.createElement("ol",{style:{position:"absolute",zIndex:1,backgroundColor:"rgba(255, 255, 255, 0.88)",minWidth:"150px"}},s.map((function(e){var a=e.word;return r.a.createElement("li",{key:a,onClick:function(){document.getElementById("query-input").value=a,n(a)},style:{marginTop:"10px",cursor:"pointer"}},a.slice(0,t.length),r.a.createElement("strong",null,a.slice(t.length)))}))):null)}var p=n(18),v=n(4),b=n(14),g=n(15),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/g," ").trim().toLowerCase()},y=function(){function e(){Object(b.a)(this,e),this.root={children:{},val:""}}return Object(g.a)(e,[{key:"addWord",value:function(e,t){if("string"===typeof e){var n,a=m(e),r=this.root,i=Object(v.a)(a);try{for(i.s();!(n=i.n()).done;){var l=n.value;l in r.children||(r.children[l]={val:l,children:{}}),r=r.children[l]}}catch(s){i.e(s)}finally{i.f()}if(r.children={},r.isEnd=!0,t){var c=t.key,o=Object(p.a)(t,["key"]);r.data||(r.data={}),r.data[c]||(r.data[c]=[]),r.data[c].push(o)}}}},{key:"getWordsWithPrefix",value:function(e){if("string"!==typeof e)return[];var t,n=m(e),a=this.root,r=Object(v.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!(i in a.children))return[];a=a.children[i]}}catch(w){r.e(w)}finally{r.f()}if(a.isEnd)return[{word:e,data:a.data}];for(var l=[],c=[a];c.length;)for(var o=c.length,s=0;s<o;s++){for(var u=c.shift(),d=Object.values(u.children),f=0,h=d;f<h.length;f++){var p=h[f];p.parent=u,c.push(p)}d.length||l.push(u)}for(var b=[],g=0,y=l;g<y.length;g++){var O=y[g],j=O,E="";do{E=j.val+E,j=j.parent}while(j!==a&&j);b.push({word:e+E,data:O.data})}return b}}]),e}(),O=n(8),j=n.n(O),E=n(10),w=n(16),x=n(17);var k=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\n",i=Object(a.useState)({}),l=Object(o.a)(i,2),c=l[0],s=l[1],u=Object(a.useState)(null),d=Object(o.a)(u,2),f=d[0],h=d[1];return Object(a.useEffect)((function(){function a(){return(a=Object(x.a)(j.a.mark((function a(){var i,l,c,u,d,f,p,b,g,m,O,x,k,W,C,S,q;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return i=a.sent,a.next=5,i.body.getReader().read();case 5:l=a.sent,c=new TextDecoder("utf-8"),u=c.decode(l.value),d=u.split(r),f=Object(w.a)(d),p=f[0],b=f.slice(1),g={},m=p.split(n),O=Object(v.a)(b);try{for(O.s();!(x=O.n()).done;)k=x.value,W=k.split(n),C=W[t],S=Object.fromEntries(W.map((function(e,t){var n;return[null===(n=m[t])||void 0===n?void 0:n.toLowerCase(),Number(e)||e]}))),C in g?g[C].push(S):g[C]=[S]}catch(j){O.e(j)}finally{O.f()}q=new y,Object.entries(g).forEach((function(e){var t=Object(o.a)(e,2),n=t[0];t[1].forEach((function(e){var t=e.label;q.addWord(t,Object(E.a)(Object(E.a)({},e),{},{key:n}))}))})),s(g),h(q);case 17:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[n,e,t,r]),[c,f]}("/datasets/train_labels.csv"),t=Object(o.a)(e,2),n=t[0],i=t[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),d=s[0],f=s[1],p=Object.entries(n),b=Object(a.useMemo)((function(){if(!d||!i)return[];var e=i.getWordsWithPrefix(d).reduce((function(e,t){return t&&t.data&&Object.entries(t.data).forEach((function(t){var n,a=Object(o.a)(t,2),r=a[0],i=a[1];r in e?(n=e[r]).push.apply(n,Object(c.a)(i)):e[r]=Object(c.a)(i)})),e}),{});return Object.entries(e)}),[d,i]);return r.a.createElement("div",{style:{fontFamily:"arial"}},r.a.createElement("style",{scoped:!0},"ol { margin: 0; padding: 0; list-style: none; }"),r.a.createElement(h,{query:d,setQuery:f,normalizeQuery:m,trie:i,filterResultsText:"showing datasets: "+(b.length?"".concat(b.length," / ").concat(p.length):"".concat(p.length))}),r.a.createElement("ol",null,(b.length?b:p).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return r.a.createElement("li",Object.assign({style:{margin:"10px auto"}},{key:n}),r.a.createElement(u,Object.assign({src:"datasets/train_images/".concat(n)},{labels:a})))}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.d413d89e.chunk.js.map